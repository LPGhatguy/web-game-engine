/* Sequential Broadcaster v1.0.0
 * Broadcasts events to subscribers.
 */

import Broadcaster from "./Broadcaster";

export default class SequentialBroadcaster extends Broadcaster {
	fire(args: Array<any>): Promise<void> {
		let promise = new Promise<void>(resolve => resolve());

		this.subscribers.forEach((sub) => {
			promise = promise.then(() => sub.apply(undefined, args));
		});

		return promise;
	}
}