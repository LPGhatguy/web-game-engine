import Shader, {ShaderType} from "@client/graphics/Shader";

let shader = new Shader(ShaderType.Fragment, `
#extension GL_EXT_draw_buffers : require
precision highp float;

uniform vec3 color;
uniform sampler2D tex;

varying vec3 fs_normal;
varying vec3 fs_pos;
varying vec2 fs_texcoord;
varying float fs_depth;

void main(void) {
	// depth
	gl_FragData[0] = vec4(vec3(fs_depth), 1.0);

	// normal
	gl_FragData[1] = vec4(normalize(fs_normal.xyz), 1.0);

	// position
	gl_FragData[2] = vec4(fs_pos, 1.0);

	// color
	gl_FragData[3] = vec4(texture2D(tex, fs_texcoord).xyz * color, 1.0);
}
`);

export default shader;