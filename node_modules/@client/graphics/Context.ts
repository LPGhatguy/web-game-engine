export default class Context {
	canvas: HTMLCanvasElement;
	gl: WebGLRenderingContext;

	constructor(element: Element) {
		let canvas = <HTMLCanvasElement>element;

		let gl: WebGLRenderingContext;
		try {
			gl = <WebGLRenderingContext>canvas.getContext("webgl");
			gl["viewportWidth"] = canvas.width;
			gl["viewportHeight"] = canvas.height;
		} catch(e) {
			console.warn("Failure initializing WebGL context");
		}

		if (!gl) {
			throw new Error("Couldn't initialize WebGL!");
		}

		this.canvas = canvas;
		this.gl = gl;
	}
}